//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//

#include "AndroidArchPersistenceDbSupportSQLiteDatabase.h"
#include "AndroidArchPersistenceDbSupportSQLiteOpenHelper.h"
#include "AndroidContentContext.h"
#include "AndroidDatabaseSqliteSQLiteDatabase.h"
#include "AndroidDatabaseSqliteSQLiteException.h"
#include "J2ObjC_source.h"
#include "android/util/Log.h"
#include "android/util/Pair.h"
#include "java/io/File.h"
#include "java/io/IOException.h"
#include "java/lang/Exception.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/util/List.h"

@interface AndroidArchPersistenceDbSupportSQLiteOpenHelper : NSObject

@end

@interface AndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback ()

- (void)deleteDatabaseFileWithNSString:(NSString *)fileName;

@end

inline NSString *AndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback_get_TAG();
static NSString *AndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback_TAG = @"SupportSQLite";
J2OBJC_STATIC_FIELD_OBJ_FINAL(AndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback, TAG, NSString *)

__attribute__((unused)) static void AndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback_deleteDatabaseFileWithNSString_(AndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback *self, NSString *fileName);

@interface AndroidArchPersistenceDbSupportSQLiteOpenHelper_Factory : NSObject

@end

@implementation AndroidArchPersistenceDbSupportSQLiteOpenHelper

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, "LNSString;", 0x401, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x401, 0, 1, -1, -1, -1, -1 },
    { NULL, "LAndroidArchPersistenceDbSupportSQLiteDatabase;", 0x401, -1, -1, -1, -1, -1, -1 },
    { NULL, "LAndroidArchPersistenceDbSupportSQLiteDatabase;", 0x401, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x401, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(getDatabaseName);
  methods[1].selector = @selector(setWriteAheadLoggingEnabledWithBoolean:);
  methods[2].selector = @selector(getWritableDatabase);
  methods[3].selector = @selector(getReadableDatabase);
  methods[4].selector = @selector(close);
  #pragma clang diagnostic pop
  static const void *ptrTable[] = { "setWriteAheadLoggingEnabled", "Z", "LAndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback;LAndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration;LAndroidArchPersistenceDbSupportSQLiteOpenHelper_Factory;" };
  static const J2ObjcClassInfo _AndroidArchPersistenceDbSupportSQLiteOpenHelper = { "SupportSQLiteOpenHelper", "android.arch.persistence.db", ptrTable, methods, NULL, 7, 0x609, 5, 0, -1, 2, -1, -1, -1 };
  return &_AndroidArchPersistenceDbSupportSQLiteOpenHelper;
}

@end

J2OBJC_INTERFACE_TYPE_LITERAL_SOURCE(AndroidArchPersistenceDbSupportSQLiteOpenHelper)

@implementation AndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback

- (instancetype)initWithInt:(jint)version_ {
  AndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback_initWithInt_(self, version_);
  return self;
}

- (void)onConfigureWithAndroidArchPersistenceDbSupportSQLiteDatabase:(id<AndroidArchPersistenceDbSupportSQLiteDatabase>)db {
}

- (void)onCreateWithAndroidArchPersistenceDbSupportSQLiteDatabase:(id<AndroidArchPersistenceDbSupportSQLiteDatabase>)db {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
}

- (void)onUpgradeWithAndroidArchPersistenceDbSupportSQLiteDatabase:(id<AndroidArchPersistenceDbSupportSQLiteDatabase>)db
                                                           withInt:(jint)oldVersion
                                                           withInt:(jint)newVersion {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
}

- (void)onDowngradeWithAndroidArchPersistenceDbSupportSQLiteDatabase:(id<AndroidArchPersistenceDbSupportSQLiteDatabase>)db
                                                             withInt:(jint)oldVersion
                                                             withInt:(jint)newVersion {
  @throw create_AndroidDatabaseSqliteSQLiteException_initWithNSString_(JreStrcat("$I$I", @"Can't downgrade database from version ", oldVersion, @" to ", newVersion));
}

- (void)onOpenWithAndroidArchPersistenceDbSupportSQLiteDatabase:(id<AndroidArchPersistenceDbSupportSQLiteDatabase>)db {
}

- (void)onCorruptionWithAndroidArchPersistenceDbSupportSQLiteDatabase:(id<AndroidArchPersistenceDbSupportSQLiteDatabase>)db {
  AndroidUtilLog_eWithNSString_withNSString_(AndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback_TAG, JreStrcat("$$", @"Corruption reported by sqlite on database: ", [((id<AndroidArchPersistenceDbSupportSQLiteDatabase>) nil_chk(db)) getPath]));
  if (![db isOpen]) {
    AndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback_deleteDatabaseFileWithNSString_(self, [db getPath]);
    return;
  }
  __unused id<JavaUtilList> attachedDbs = nil;
  @try {
    @try {
      attachedDbs = [db getAttachedDbs];
    }
    @catch (AndroidDatabaseSqliteSQLiteException *e) {
    }
    @try {
      [db close];
    }
    @catch (JavaIoIOException *e) {
    }
  }
  @finally {
    if (attachedDbs != nil) {
      for (AndroidUtilPair * __strong p in attachedDbs) {
        AndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback_deleteDatabaseFileWithNSString_(self, ((AndroidUtilPair *) nil_chk(p))->second_);
      }
    }
    else {
      AndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback_deleteDatabaseFileWithNSString_(self, [db getPath]);
    }
  }
}

- (void)deleteDatabaseFileWithNSString:(NSString *)fileName {
  AndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback_deleteDatabaseFileWithNSString_(self, fileName);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 1, 2, -1, -1, -1, -1 },
    { NULL, "V", 0x401, 3, 2, -1, -1, -1, -1 },
    { NULL, "V", 0x401, 4, 5, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 6, 5, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 7, 2, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 8, 2, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 9, 10, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithInt:);
  methods[1].selector = @selector(onConfigureWithAndroidArchPersistenceDbSupportSQLiteDatabase:);
  methods[2].selector = @selector(onCreateWithAndroidArchPersistenceDbSupportSQLiteDatabase:);
  methods[3].selector = @selector(onUpgradeWithAndroidArchPersistenceDbSupportSQLiteDatabase:withInt:withInt:);
  methods[4].selector = @selector(onDowngradeWithAndroidArchPersistenceDbSupportSQLiteDatabase:withInt:withInt:);
  methods[5].selector = @selector(onOpenWithAndroidArchPersistenceDbSupportSQLiteDatabase:);
  methods[6].selector = @selector(onCorruptionWithAndroidArchPersistenceDbSupportSQLiteDatabase:);
  methods[7].selector = @selector(deleteDatabaseFileWithNSString:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "TAG", "LNSString;", .constantValue.asLong = 0, 0x1a, -1, 11, -1, -1 },
    { "version__", "I", .constantValue.asLong = 0, 0x11, 12, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "I", "onConfigure", "LAndroidArchPersistenceDbSupportSQLiteDatabase;", "onCreate", "onUpgrade", "LAndroidArchPersistenceDbSupportSQLiteDatabase;II", "onDowngrade", "onOpen", "onCorruption", "deleteDatabaseFile", "LNSString;", &AndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback_TAG, "version", "LAndroidArchPersistenceDbSupportSQLiteOpenHelper;" };
  static const J2ObjcClassInfo _AndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback = { "Callback", "android.arch.persistence.db", ptrTable, methods, fields, 7, 0x409, 8, 2, 13, -1, -1, -1, -1 };
  return &_AndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback;
}

@end

void AndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback_initWithInt_(AndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback *self, jint version_) {
  NSObject_init(self);
  self->version__ = version_;
}

void AndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback_deleteDatabaseFileWithNSString_(AndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback *self, NSString *fileName) {
  if ([((NSString *) nil_chk(fileName)) java_equalsIgnoreCase:@":memory:"] || [((NSString *) nil_chk([fileName java_trim])) java_length] == 0) {
    return;
  }
  AndroidUtilLog_wWithNSString_withNSString_(AndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback_TAG, JreStrcat("$$", @"deleting the database file: ", fileName));
  @try {
    AndroidDatabaseSqliteSQLiteDatabase_deleteDatabaseWithJavaIoFile_(create_JavaIoFile_initWithNSString_(fileName));
  }
  @catch (JavaLangException *e) {
    AndroidUtilLog_wWithNSString_withNSString_withJavaLangThrowable_(AndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback_TAG, @"delete failed: ", e);
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(AndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback)

@implementation AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration

- (instancetype)initWithAndroidContentContext:(AndroidContentContext * __nonnull)context
                                 withNSString:(NSString * __nullable)name
withAndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback:(AndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback * __nonnull)callback {
  AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_initWithAndroidContentContext_withNSString_withAndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback_(self, context, name, callback);
  return self;
}

+ (AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_Builder *)builderWithAndroidContentContext:(AndroidContentContext *)context {
  return AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_builderWithAndroidContentContext_(context);
}

- (void)dealloc {
  RELEASE_(context_);
  RELEASE_(name_);
  RELEASE_(callback_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, 0, -1, -1, -1, -1 },
    { NULL, "LAndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_Builder;", 0x9, 1, 2, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithAndroidContentContext:withNSString:withAndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback:);
  methods[1].selector = @selector(builderWithAndroidContentContext:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "context_", "LAndroidContentContext;", .constantValue.asLong = 0, 0x11, -1, -1, -1, -1 },
    { "name_", "LNSString;", .constantValue.asLong = 0, 0x11, -1, -1, -1, -1 },
    { "callback_", "LAndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback;", .constantValue.asLong = 0, 0x11, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LAndroidContentContext;LNSString;LAndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback;", "builder", "LAndroidContentContext;", "LAndroidArchPersistenceDbSupportSQLiteOpenHelper;", "LAndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_Builder;" };
  static const J2ObjcClassInfo _AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration = { "Configuration", "android.arch.persistence.db", ptrTable, methods, fields, 7, 0x9, 2, 3, 3, 4, -1, -1, -1 };
  return &_AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration;
}

@end

void AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_initWithAndroidContentContext_withNSString_withAndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback_(AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration *self, AndroidContentContext *context, NSString *name, AndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback *callback) {
  NSObject_init(self);
  JreStrongAssign(&self->context_, context);
  JreStrongAssign(&self->name_, name);
  JreStrongAssign(&self->callback_, callback);
}

AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration *new_AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_initWithAndroidContentContext_withNSString_withAndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback_(AndroidContentContext *context, NSString *name, AndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback *callback) {
  J2OBJC_NEW_IMPL(AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration, initWithAndroidContentContext_withNSString_withAndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback_, context, name, callback)
}

AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration *create_AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_initWithAndroidContentContext_withNSString_withAndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback_(AndroidContentContext *context, NSString *name, AndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback *callback) {
  J2OBJC_CREATE_IMPL(AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration, initWithAndroidContentContext_withNSString_withAndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback_, context, name, callback)
}

AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_Builder *AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_builderWithAndroidContentContext_(AndroidContentContext *context) {
  AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_initialize();
  return create_AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_Builder_initWithAndroidContentContext_(context);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration)

@implementation AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_Builder

- (AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration *)build {
  if (mCallback_ == nil) {
    @throw create_JavaLangIllegalArgumentException_initWithNSString_(@"Must set a callback to create the configuration.");
  }
  if (mContext_ == nil) {
    @throw create_JavaLangIllegalArgumentException_initWithNSString_(@"Must set a non-null context to create the configuration.");
  }
  return create_AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_initWithAndroidContentContext_withNSString_withAndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback_(mContext_, mName_, mCallback_);
}

- (instancetype)initWithAndroidContentContext:(AndroidContentContext * __nonnull)context {
  AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_Builder_initWithAndroidContentContext_(self, context);
  return self;
}

- (AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_Builder *)nameWithNSString:(NSString * __nullable)name {
  JreStrongAssign(&mName_, name);
  return self;
}

- (AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_Builder *)callbackWithAndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback:(AndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback * __nonnull)callback {
  JreStrongAssign(&mCallback_, callback);
  return self;
}

- (void)dealloc {
  RELEASE_(mContext_);
  RELEASE_(mName_);
  RELEASE_(mCallback_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, "LAndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, NULL, 0x0, -1, 0, -1, -1, -1, -1 },
    { NULL, "LAndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_Builder;", 0x1, 1, 2, -1, -1, -1, -1 },
    { NULL, "LAndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_Builder;", 0x1, 3, 4, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(build);
  methods[1].selector = @selector(initWithAndroidContentContext:);
  methods[2].selector = @selector(nameWithNSString:);
  methods[3].selector = @selector(callbackWithAndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "mContext_", "LAndroidContentContext;", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
    { "mName_", "LNSString;", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
    { "mCallback_", "LAndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback;", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LAndroidContentContext;", "name", "LNSString;", "callback", "LAndroidArchPersistenceDbSupportSQLiteOpenHelper_Callback;", "LAndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration;" };
  static const J2ObjcClassInfo _AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_Builder = { "Builder", "android.arch.persistence.db", ptrTable, methods, fields, 7, 0x9, 4, 3, 5, -1, -1, -1, -1 };
  return &_AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_Builder;
}

@end

void AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_Builder_initWithAndroidContentContext_(AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_Builder *self, AndroidContentContext *context) {
  NSObject_init(self);
  JreStrongAssign(&self->mContext_, context);
}

AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_Builder *new_AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_Builder_initWithAndroidContentContext_(AndroidContentContext *context) {
  J2OBJC_NEW_IMPL(AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_Builder, initWithAndroidContentContext_, context)
}

AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_Builder *create_AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_Builder_initWithAndroidContentContext_(AndroidContentContext *context) {
  J2OBJC_CREATE_IMPL(AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_Builder, initWithAndroidContentContext_, context)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(AndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration_Builder)

@implementation AndroidArchPersistenceDbSupportSQLiteOpenHelper_Factory

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, "LAndroidArchPersistenceDbSupportSQLiteOpenHelper;", 0x401, 0, 1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(createWithAndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration:);
  #pragma clang diagnostic pop
  static const void *ptrTable[] = { "create", "LAndroidArchPersistenceDbSupportSQLiteOpenHelper_Configuration;", "LAndroidArchPersistenceDbSupportSQLiteOpenHelper;" };
  static const J2ObjcClassInfo _AndroidArchPersistenceDbSupportSQLiteOpenHelper_Factory = { "Factory", "android.arch.persistence.db", ptrTable, methods, NULL, 7, 0x609, 1, 0, 2, -1, -1, -1, -1 };
  return &_AndroidArchPersistenceDbSupportSQLiteOpenHelper_Factory;
}

@end

J2OBJC_INTERFACE_TYPE_LITERAL_SOURCE(AndroidArchPersistenceDbSupportSQLiteOpenHelper_Factory)
